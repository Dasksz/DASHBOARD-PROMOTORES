<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Banner Cheetos Dashboard - High Fidelity</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap');
        
        body { 
            margin: 0; 
            background-color: #020617; 
            font-family: 'Inter', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            overflow: hidden;
        }

        #banner-container {
            position: relative;
            width: 95%;
            max-width: 1100px;
            height: 350px;
            border-radius: 28px;
            overflow: hidden;
            box-shadow: 0 30px 60px -12px rgba(0, 0, 0, 0.8);
            background: radial-gradient(circle at 75% 50%, #1e1b4b 0%, #020617 100%);
            border: 1px solid rgba(255, 255, 255, 0.08);
        }

        canvas {
            display: block;
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
            z-index: 1;
        }

        .content-overlay {
            position: relative;
            z-index: 10;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            padding-left: 60px; 
            background: linear-gradient(90deg, rgba(2,6,23,0.95) 0%, rgba(2,6,23,0.4) 60%, rgba(2,6,23,0) 100%);
            pointer-events: none; 
            max-width: 550px;
        }

        @media (max-width: 640px) {
            .content-overlay { padding-left: 30px; }
            .user-greeting { font-size: 2.5rem !important; }
            .sub-text { font-size: 1rem !important; }
        }

        .brand-tag {
            background: linear-gradient(90deg, #ff6600, #ff9900);
            color: white;
            padding: 5px 16px;
            border-radius: 99px;
            font-weight: 800;
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            width: fit-content;
            margin-bottom: 16px;
            box-shadow: 0 4px 15px rgba(255, 102, 0, 0.3);
        }

        .user-greeting {
            font-size: 3.8rem;
            font-weight: 800;
            color: white;
            line-height: 1;
            font-style: italic;
            text-shadow: 0 10px 20px rgba(0,0,0,0.5);
        }

        .sub-text {
            font-size: 1.3rem;
            color: #fbbf24;
            font-weight: 600;
            margin-top: 10px;
        }

        .meta-info {
            font-size: 0.85rem;
            color: #94a3b8;
            margin-top: 30px;
            display: flex;
            align-items: center;
            gap: 10px;
            font-family: monospace;
        }

        .dot {
            width: 10px;
            height: 10px;
            background-color: #22c55e;
            border-radius: 50%;
            box-shadow: 0 0 12px #22c55e;
        }
    </style>
</head>
<body>

    <div id="banner-container">
        <div class="content-overlay">
            <div class="brand-tag">Dashboard Prime</div>
            <h1 class="user-greeting">Olá, Daniel!</h1>
            <p class="sub-text">Perigosamente Delicioso.</p>
            <p class="meta-info">
                <span class="dot"></span> Sistema Ativo • 14/02/2026
            </p>
        </div>
    </div>

    <script>
        let scene, camera, renderer;
        let cheetos = [], dustParticles;
        let mouseX = 0, mouseY = 0;
        let targetX = 0, targetY = 0;

        const container = document.getElementById('banner-container');
        let width = container.clientWidth;
        let height = container.clientHeight;

        function init() {
            scene = new THREE.Scene();
            scene.fog = new THREE.FogExp2(0x020617, 0.02); 

            camera = new THREE.PerspectiveCamera(45, width / height, 0.1, 100);
            camera.position.z = 25; 
            
            renderer = new THREE.WebGLRenderer({ 
                alpha: true, 
                antialias: true,
                precision: "highp",
                powerPreference: "high-performance"
            });
            
            renderer.setSize(width, height);
            renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
            
            renderer.shadowMap.enabled = true;
            renderer.shadowMap.type = THREE.PCFSoftShadowMap;
            renderer.toneMapping = THREE.ACESFilmicToneMapping;
            renderer.toneMappingExposure = 0.94; 
            
            container.insertBefore(renderer.domElement, container.firstChild);

            const ambientLight = new THREE.AmbientLight(0xffffff, 0.38); 
            scene.add(ambientLight);

            const mainLight = new THREE.DirectionalLight(0xffaa00, 2.1);
            mainLight.position.set(10, 20, 15);
            mainLight.castShadow = true;
            scene.add(mainLight);

            const rimLight = new THREE.SpotLight(0x4f46e5, 5.1);
            rimLight.position.set(-20, 5, -5);
            scene.add(rimLight);

            createCheetoFactory();
            createDust();

            const updateInput = (x, y) => {
                const rect = container.getBoundingClientRect();
                mouseX = ((x - rect.left) / width - 0.5) * 2;
                mouseY = ((y - rect.top) / height - 0.5) * 2;
            };

            container.addEventListener('mousemove', (e) => updateInput(e.clientX, e.clientY));
            container.addEventListener('touchmove', (e) => {
                if(e.touches.length > 0) updateInput(e.touches[0].clientX, e.touches[0].clientY);
            }, { passive: true });
            
            window.addEventListener('resize', onWindowResize);
            animate();
        }

        // TEXTURA ARENOSA +50%
        function generateNoiseTexture() {
            const size = 512;
            const canvas = document.createElement('canvas');
            canvas.width = size; canvas.height = size;
            const ctx = canvas.getContext('2d');
            
            ctx.fillStyle = '#ff6600'; 
            ctx.fillRect(0,0,size,size);
            
            const imageData = ctx.getImageData(0,0,size,size);
            const data = imageData.data;
            
            for (let i = 0; i < data.length; i += 4) {
                // Aumento de 50% na amplitude do ruído (de 160 para 240)
                const grain = (Math.random() - 0.4) * 240; 
                data[i] = Math.max(0, Math.min(255, data[i] + grain));
                data[i+1] = Math.max(0, Math.min(255, data[i+1] + grain * 0.6));
                data[i+2] = Math.max(0, Math.min(255, data[i+2] + grain * 0.05));
            }
            
            ctx.putImageData(imageData, 0, 0);
            const texture = new THREE.CanvasTexture(canvas);
            texture.wrapS = texture.wrapT = THREE.RepeatWrapping;
            texture.repeat.set(2.5, 2.5); // Aumento da densidade dos grãos
            return texture;
        }

        function smoothDeform(geometry, seed, yOffset = 0) {
            const pos = geometry.attributes.position;
            const vec = new THREE.Vector3();
            for (let i = 0; i < pos.count; i++) {
                vec.fromBufferAttribute(pos, i);
                const absoluteY = vec.y + yOffset;
                
                const noise = (
                    Math.sin(absoluteY * 3.5 + seed) * Math.cos(vec.x * 2.5 + seed) +
                    Math.sin(vec.z * 4.0 + seed) * 0.5
                ) * 0.12;
                
                const dir = vec.clone().normalize();
                pos.setXYZ(i, vec.x + dir.x * noise, vec.y + dir.y * noise, vec.z + dir.z * noise);
            }
            geometry.computeVertexNormals();
        }

        function createCheetoFactory() {
            const noiseTexture = generateNoiseTexture();
            
            const material = new THREE.MeshPhysicalMaterial({ 
                color: 0xff7700,
                map: noiseTexture,
                bumpMap: noiseTexture,
                // BUMP SCALE +50% (de 0.09 para 0.135)
                bumpScale: 0.135, 
                roughness: 0.98, 
                roughnessMap: noiseTexture,
                metalness: 0.0,
                clearcoat: 0.0,
                emissive: 0xff3300,
                emissiveIntensity: 0.034
            });

            for (let i = 0; i < 35; i++) {
                const group = new THREE.Group();
                const radius = 0.35 + Math.random() * 0.15;
                const len = 1.6 + Math.random() * 0.8;
                const seed = Math.random() * 100;

                const bodyGeo = new THREE.CylinderGeometry(radius, radius, len, 32, 20, true);
                smoothDeform(bodyGeo, seed, 0);

                const capGeo = new THREE.SphereGeometry(radius, 32, 24);
                
                const cap1 = new THREE.Mesh(capGeo.clone(), material);
                const cap2 = new THREE.Mesh(capGeo.clone(), material);
                const body = new THREE.Mesh(bodyGeo, material);

                cap1.position.y = len/2;
                cap2.position.y = -len/2;
                
                smoothDeform(cap1.geometry, seed, len/2);
                smoothDeform(cap2.geometry, seed, -len/2);

                cap1.castShadow = cap2.castShadow = body.castShadow = true;
                group.add(body, cap1, cap2);
                
                resetCheeto(group, true);
                cheetos.push(group);
                scene.add(group);
            }
        }

        function createDust() {
            const geo = new THREE.BufferGeometry();
            const count = 1500; 
            const pos = new Float32Array(count * 3);
            for (let i = 0; i < count; i++) {
                pos[i*3] = (Math.random()-0.5)*75;
                pos[i*3+1] = (Math.random()-0.5)*45;
                pos[i*3+2] = (Math.random()-0.5)*45;
            }
            geo.setAttribute('position', new THREE.BufferAttribute(pos, 3));
            dustParticles = new THREE.Points(geo, new THREE.PointsMaterial({ 
                size: 0.1, 
                color: 0xffcc00, 
                transparent: true, 
                opacity: 0.5 
            }));
            scene.add(dustParticles);
        }

        function resetCheeto(mesh, isInitial = false) {
            mesh.position.z = isInitial ? (Math.random() * 60) - 40 : -60;
            mesh.position.x = (Math.random() * 60) - 20; 
            mesh.position.y = (Math.random() - 0.5) * 35;
            mesh.rotation.set(Math.random()*Math.PI, Math.random()*Math.PI, Math.random()*Math.PI);
            
            mesh.userData = {
                speed: 0.02 + Math.random() * 0.07,
                rot: new THREE.Vector3((Math.random()-0.5)*0.012, (Math.random()-0.5)*0.012, (Math.random()-0.5)*0.012)
            };
        }

        function onWindowResize() {
            width = container.clientWidth; height = container.clientHeight;
            camera.aspect = width / height;
            camera.updateProjectionMatrix();
            renderer.setSize(width, height);
        }

        function animate() {
            requestAnimationFrame(animate);

            targetX += (mouseX - targetX) * 0.05;
            targetY += (mouseY - targetY) * 0.05;
            
            camera.position.x = targetX * 2.5;
            camera.position.y = -targetY * 2.5;
            camera.lookAt(8, 0, 0);

            cheetos.forEach(c => {
                c.position.z += c.userData.speed;
                c.rotation.x += c.userData.rot.x;
                c.rotation.y += c.userData.rot.y;
                c.rotation.z += c.userData.rot.z;
                if (c.position.z > 35) resetCheeto(c);
            });

            if(dustParticles) {
                dustParticles.rotation.y += 0.0007;
                dustParticles.rotation.x += 0.0002;
            }

            renderer.render(scene, camera);
        }

        window.onload = init;
    </script>
</body>
</html>
