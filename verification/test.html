
<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Verification</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://unpkg.com/leaflet.heat/dist/leaflet-heat.js"></script>
    <link href="../styles.css" rel="stylesheet">
    <style>
        .hidden { display: none; }
    </style>
</head>
<body class="bg-[#020617] text-slate-300 antialiased overflow-x-hidden">

<div id="content-wrapper" class="">
    <!-- Main Dashboard with Buttons -->
    <div id="main-dashboard" class="">
        <div class="container mx-auto p-4">
            <div id="chartView">
                <div class="grid grid-cols-2 lg:grid-cols-4 gap-4 mb-8">
                    <button id="btn-clientes" onclick="renderView('clientes')" class="bg-slate-800 text-white font-bold py-6 px-6 rounded-xl border border-slate-700">Clientes</button>
                    <button id="btn-produtos" onclick="renderView('produtos')" class="bg-slate-800 text-white font-bold py-6 px-6 rounded-xl border border-slate-700">Produtos</button>
                    <button id="btn-meta" onclick="renderView('meta-realizado')" class="bg-slate-800 text-white font-bold py-6 px-6 rounded-xl border border-slate-700">Objetivos</button>
                    <button id="btn-consultas" onclick="renderView('consultas')" class="bg-slate-800 text-white font-bold py-6 px-6 rounded-xl border border-slate-700">Consultas</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Views -->
    <div id="clientes-view" class="hidden container mx-auto p-4 max-w-7xl">
        <h1 class="text-3xl font-bold text-white mb-4">Clientes View</h1>
        <div class="bg-white rounded-xl shadow-lg p-4">
            <div id="clientes-list-container"></div>
        </div>
    </div>

    <div id="produtos-view" class="hidden container mx-auto p-4 max-w-7xl">
        <h1 class="text-3xl font-bold text-white mb-4">Produtos View</h1>
        <div class="bg-white rounded-xl shadow-lg p-4">
            <div id="produtos-list-container"></div>
        </div>
    </div>

    <div id="consultas-view" class="hidden container mx-auto p-4 max-w-7xl">
        <h1 class="text-3xl font-bold text-white mb-4">Consultas View</h1>
        <div class="grid grid-cols-3 gap-6">
            <button class="bg-slate-800 p-6 rounded-xl border border-slate-700">Positivação</button>
            <button class="bg-slate-800 p-6 rounded-xl border border-slate-700">Títulos</button>
            <button class="bg-slate-800 p-6 rounded-xl border border-slate-700">MaxInsights</button>
        </div>
    </div>

    <!-- Required IDs for app.js to not crash -->
    <div id="mobile-menu"></div>
    <div id="city-view" class="hidden"></div>
    <div id="comparison-view" class="hidden"></div>
    <div id="stock-view" class="hidden"></div>
    <div id="innovations-month-view" class="hidden"></div>
    <div id="coverage-view" class="hidden"></div>
    <div id="mix-view" class="hidden"></div>
    <div id="goals-view" class="hidden"></div>
    <div id="meta-realizado-view" class="hidden"></div>
    <div id="ai-insights-full-page" class="hidden"></div>
    <div id="wallet-view" class="hidden"></div>
    <div id="loader" class="hidden"></div>
    <div id="loader-text"></div>
    <div id="top-navbar" class="hidden"></div>
    <div id="total-vendas"></div>
    <div id="total-peso"></div>
    <div id="kpi-sku-pdv"></div>
    <div id="kpi-positivacao"></div>
    <div id="kpi-positivacao-percent"></div>
    <div id="dashboard-kpi-container"></div>
    <div id="tableView" class="hidden"></div>
    <div id="table-pagination-controls" class="hidden"></div>
    <div id="main-holiday-picker-btn"></div>
    <div id="comparison-holiday-picker-btn"></div>
    <div id="max-working-days-label"></div>
    <div id="stock-working-days-input"></div>

    <!-- Modals -->
    <div id="wallet-client-modal" class="hidden">
        <div id="wallet-modal-code"></div>
        <div id="wallet-modal-cnpj"></div>
        <div id="wallet-modal-razao"></div>
        <div id="wallet-modal-fantasia"></div>
        <div id="wallet-modal-city"></div>
        <div id="wallet-modal-status-area"></div>
        <div id="wallet-modal-status-title"></div>
        <div id="wallet-modal-status-msg"></div>
        <button id="wallet-modal-action-btn"></button>
        <div id="wallet-modal-action-text"></div>
        <button id="wallet-modal-cancel-btn"></button>
        <button id="wallet-modal-close-btn"></button>
    </div>

    <!-- Filters IDs (needed for initialization) -->
    <div id="main-coord-filter-btn"></div><div id="main-coord-filter-dropdown"></div>
    <div id="main-cocoord-filter-btn"></div><div id="main-cocoord-filter-dropdown"></div>
    <div id="main-promotor-filter-btn"></div><div id="main-promotor-filter-dropdown"></div>

    <div id="city-coord-filter-btn"></div><div id="city-coord-filter-dropdown"></div>
    <div id="city-cocoord-filter-btn"></div><div id="city-cocoord-filter-dropdown"></div>
    <div id="city-promotor-filter-btn"></div><div id="city-promotor-filter-dropdown"></div>

    <div id="comparison-coord-filter-btn"></div><div id="comparison-coord-filter-dropdown"></div>
    <div id="comparison-cocoord-filter-btn"></div><div id="comparison-cocoord-filter-dropdown"></div>
    <div id="comparison-promotor-filter-btn"></div><div id="comparison-promotor-filter-dropdown"></div>

    <div id="innovations-month-coord-filter-btn"></div><div id="innovations-month-coord-filter-dropdown"></div>
    <div id="innovations-month-cocoord-filter-btn"></div><div id="innovations-month-cocoord-filter-dropdown"></div>
    <div id="innovations-month-promotor-filter-btn"></div><div id="innovations-month-promotor-filter-dropdown"></div>

    <div id="mix-coord-filter-btn"></div><div id="mix-coord-filter-dropdown"></div>
    <div id="mix-cocoord-filter-btn"></div><div id="mix-cocoord-filter-dropdown"></div>
    <div id="mix-promotor-filter-btn"></div><div id="mix-promotor-filter-dropdown"></div>

    <div id="coverage-coord-filter-btn"></div><div id="coverage-coord-filter-dropdown"></div>
    <div id="coverage-cocoord-filter-btn"></div><div id="coverage-cocoord-filter-dropdown"></div>
    <div id="coverage-promotor-filter-btn"></div><div id="coverage-promotor-filter-dropdown"></div>

    <div id="goals-gv-coord-filter-btn"></div><div id="goals-gv-coord-filter-dropdown"></div>
    <div id="goals-gv-cocoord-filter-btn"></div><div id="goals-gv-cocoord-filter-dropdown"></div>
    <div id="goals-gv-promotor-filter-btn"></div><div id="goals-gv-promotor-filter-dropdown"></div>

    <div id="goals-sv-coord-filter-btn"></div><div id="goals-sv-coord-filter-dropdown"></div>
    <div id="goals-sv-cocoord-filter-btn"></div><div id="goals-sv-cocoord-filter-dropdown"></div>
    <div id="goals-sv-promotor-filter-btn"></div><div id="goals-sv-promotor-filter-dropdown"></div>

    <div id="goals-summary-coord-filter-btn"></div><div id="goals-summary-coord-filter-dropdown"></div>
    <div id="goals-summary-cocoord-filter-btn"></div><div id="goals-summary-cocoord-filter-dropdown"></div>
    <div id="goals-summary-promotor-filter-btn"></div><div id="goals-summary-promotor-filter-dropdown"></div>

    <div id="meta-realizado-coord-filter-btn"></div><div id="meta-realizado-coord-filter-dropdown"></div>
    <div id="meta-realizado-cocoord-filter-btn"></div><div id="meta-realizado-cocoord-filter-dropdown"></div>
    <div id="meta-realizado-promotor-filter-btn"></div><div id="meta-realizado-promotor-filter-dropdown"></div>

</div>

<script>
    // Mock Data
    window.embeddedData = {
        clients: [
            { 'Código': '1', 'nomeCliente': 'Cliente Teste 1', 'fantasia': 'Fantasia 1', 'ultimacompra': new Date().toISOString(), 'rca1': '10' },
            { 'Código': '2', 'nomeCliente': 'Cliente Teste 2', 'fantasia': 'Fantasia 2', 'ultimacompra': '2023-01-01', 'rca1': '10' }
        ],
        products: [
            { 'code': '100', 'descricao': 'Produto Teste 1', 'embalagem': 'CX' },
            { 'code': '200', 'descricao': 'Produto Teste 2', 'embalagem': 'UN' }
        ],
        detailed: [],
        history: [],
        stockMap05: {},
        stockMap08: {},
        hierarchy: [
             { cod_coord: 'C1', nome_coord: 'Coord 1', cod_cocoord: 'CC1', nome_cocoord: 'Cocoord 1', cod_promotor: 'P1', nome_promotor: 'Prom 1' },
             { cod_coord: 'C1', nome_coord: 'Coord 1', cod_cocoord: 'CC1', nome_cocoord: 'Cocoord 1', cod_promotor: '10', nome_promotor: 'Prom 10' }
        ],
        clientPromoters: [],
        isColumnar: false,
        byOrder: [] // FIX: Add this
    };

    window.userRole = 'adm';
    window.userHierarchyContext = { role: 'adm' };

    // Mock Supabase
    window.supabaseClient = {
        from: () => ({
            select: () => ({
                eq: () => ({ single: () => Promise.resolve({ data: {} }) }),
                in: () => Promise.resolve({ data: [] }),
                upsert: () => Promise.resolve({ error: null }),
                delete: () => Promise.resolve({ error: null })
            })
        })
    };

    window.showLoader = async () => {}; // Mock
    window.showViewElement = (el) => { if(el) el.classList.remove('hidden'); };

</script>
<script src="../app.js"></script>
</body>
</html>
