    .flex-center-overlay {
        position: fixed;
        top: 0; right: 0; bottom: 0; left: 0;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    :root {
        --bg-main: #020617; /* Deepest Blue/Black */
        --bg-card: #0f172a; /* Slate 900 */
        --card-bg: #0f172a;
        --text-primary: #cbd5e1;
        --text-heading: #f8fafc;
        --border-color: #1e293b;
        --brand-blue: #1e3a8a;
        --brand-red: #dc2626;
        --brand-gradient: linear-gradient(135deg, #1e3a8a 0%, #1e40af 50%, #dc2626 100%);
        --glass-bg: rgba(15, 23, 42, 0.7);
        --glass-border: rgba(255, 255, 255, 0.05);
    }

    /* Base Styling */
    body { 
        background-color: var(--bg-main); 
        color: var(--text-primary); 
        font-family: 'Inter', sans-serif;
        background-image: 
            radial-gradient(circle at 10% 20%, rgba(30, 58, 138, 0.15) 0%, transparent 40%),
            radial-gradient(circle at 90% 80%, rgba(220, 38, 38, 0.05) 0%, transparent 40%);
        background-attachment: fixed;
        overflow-x: hidden;
    }

    /* Animations */
    @keyframes fadeInUp {
        from { opacity: 0; transform: translateY(20px); }
        to { opacity: 1; transform: translateY(0); }
    }

    @keyframes pulseGlow {
        0% { box-shadow: 0 0 0 0 rgba(30, 58, 138, 0.4); }
        70% { box-shadow: 0 0 0 10px rgba(30, 58, 138, 0); }
        100% { box-shadow: 0 0 0 0 rgba(30, 58, 138, 0); }
    }

    .animate-fade-in-up {
        animation: fadeInUp 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards;
    }

    .stagger-1 { animation-delay: 0.1s; }
    .stagger-2 { animation-delay: 0.2s; }
    .stagger-3 { animation-delay: 0.3s; }
    .stagger-4 { animation-delay: 0.4s; }

    /* Top Navigation (Glassmorphism) */
    .glass-nav {
        background: var(--glass-bg);
        backdrop-filter: blur(12px);
        -webkit-backdrop-filter: blur(12px);
        border-bottom: 1px solid var(--glass-border);
        transition: all 0.3s ease;
    }

    /* Modern Card Styling */
    .kpi-card, .bg-\[\#1d2347\], .bg-modal-content {
        background-color: var(--bg-card) !important;
        border: 1px solid var(--border-color) !important;
        border-radius: 1rem !important; /* Rounded-2xl look */
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.2), 0 2px 4px -1px rgba(0, 0, 0, 0.1);
        transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1), box-shadow 0.3s ease;
    }

    .kpi-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.3), 0 10px 10px -5px rgba(0, 0, 0, 0.2);
        border-color: rgba(255,255,255,0.1) !important;
    }

    /* Optimization for Day Selection Toggles */
    #itinerary-days-container input[type="checkbox"] + div {
        transition: background-color 0.15s ease-in-out, color 0.15s ease-in-out, border-color 0.15s ease-in-out;
        will-change: background-color, color, border-color; /* Hint to browser */
    }
    
    #itinerary-days-container label {
        cursor: pointer;
        -webkit-tap-highlight-color: transparent; /* Remove delay on mobile touch */
        touch-action: manipulation; /* Disable double-tap zoom delay */
    }

    /* Hero Section */
    .hero-section {
        background: linear-gradient(to right, rgba(15, 23, 42, 0.9), rgba(15, 23, 42, 0.6)), url('https://images.unsplash.com/photo-1557821552-17105176677c?ixlib=rb-4.0.3&auto=format&fit=crop&w=1932&q=80'); /* Abstract background fallback */
        background-size: cover;
        background-position: center;
        border-radius: 1.5rem;
        position: relative;
        overflow: hidden;
        border: 1px solid rgba(255,255,255,0.05);
    }
    
    .hero-section::before {
        content: '';
        position: absolute;
        top: 0; left: 0; right: 0; bottom: 0;
        background: linear-gradient(135deg, rgba(30, 58, 138, 0.4) 0%, rgba(220, 38, 38, 0.1) 100%);
        z-index: 0;
        pointer-events: none;
    }

    /* Buttons & Interactions */
    .nav-link {
        position: relative;
        transition: color 0.2s ease;
    }
    
    .nav-link::after {
        content: '';
        position: absolute;
        bottom: -4px;
        left: 0;
        width: 0%;
        height: 2px;
        background: linear-gradient(90deg, #FF5E00, #dc2626);
        transition: width 0.3s ease;
    }

    .nav-link:hover::after, .nav-link.active-nav::after {
        width: 100%;
    }

    .nav-link.active-nav {
        color: #fff !important;
        font-weight: 600;
    }

    /* Scrollbars */
    ::-webkit-scrollbar { width: 6px; height: 6px; }
    ::-webkit-scrollbar-track { background: transparent; }
    ::-webkit-scrollbar-thumb { background: #334155; border-radius: 3px; }
    ::-webkit-scrollbar-thumb:hover { background: #475569; }

    /* No Scrollbar Utility */
    .no-scrollbar::-webkit-scrollbar { display: none; }
    .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
    
    /* Body Scrollbar Hiding (Web App Feel) */
    body::-webkit-scrollbar { display: none; }
    body { -ms-overflow-style: none; scrollbar-width: none; }

    /* Login Screen Facelift */
    .login-container {
        border: 1px solid rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(10px);
    }

    .login-welcome-panel {
        /* Fancy wave or curve background effect via CSS mask or SVG background if needed,
           but simple gradient overlay works for now as per design request */
        position: relative;
        overflow: hidden;
    }
    
    /* Curved Separator for Desktop */
    @media (min-width: 768px) {
        .login-welcome-panel::after {
            content: '';
            position: absolute;
            top: 0;
            right: -50px;
            bottom: 0;
            width: 100px;
            background: #0f172a; /* Match right panel bg */
            border-radius: 50% 0 0 50%; /* Curve inward */
            z-index: 5;
            transform: scaleY(1.5); /* Stretch vertically */
        }
    }

    .login-form-panel {
        z-index: 10;
    }

    /* Helper Utilities */
    .text-glow { text-shadow: 0 0 20px rgba(255, 94, 0, 0.5); }
    .border-gradient { border-image: linear-gradient(to right, #1e3a8a, #dc2626) 1; }

    /* Sticky Header overrides */
    .sticky-header th { background-color: var(--bg-card); }

    /* Hide utilities */
    .hidden { display: none; }

    /* Map Specifics */
    #city-map-container { border-radius: 1rem; overflow: hidden; }

    /* KPI Glows (Refined) */
    .kpi-glow-base {
        border: 1px solid transparent !important; /* Override default border */
        background-origin: border-box;
        background-clip: padding-box, border-box;
        position: relative;
    }

    .kpi-glow-blue {
        background-image: linear-gradient(var(--card-bg, #1d2347), var(--card-bg, #1d2347)), linear-gradient(135deg, #3b82f6, #06b6d4); /* Blue to Cyan */
        box-shadow: 0 0 15px rgba(59, 130, 246, 0.4);
    }

    .kpi-glow-green {
        background-image: linear-gradient(var(--card-bg, #1d2347), var(--card-bg, #1d2347)), linear-gradient(135deg, #22c55e, #10b981); /* Green to Emerald */
        box-shadow: 0 0 15px rgba(34, 197, 94, 0.4);
    }

    .kpi-glow-yellow {
        background-image: linear-gradient(var(--card-bg, #1d2347), var(--card-bg, #1d2347)), linear-gradient(135deg, #eab308, #f59e0b); /* Yellow to Amber */
        box-shadow: 0 0 15px rgba(234, 179, 8, 0.4);
    }

    .kpi-glow-purple {
        background-image: linear-gradient(var(--card-bg, #1d2347), var(--card-bg, #1d2347)), linear-gradient(135deg, #a855f7, #ec4899); /* Purple to Pink */
        box-shadow: 0 0 15px rgba(168, 85, 247, 0.4);
    }

    .kpi-glow-orange {
        background-image: linear-gradient(var(--card-bg, #1d2347), var(--card-bg, #1d2347)), linear-gradient(135deg, #f97316, #ea580c); /* Orange-500 to Orange-600 */
        box-shadow: 0 0 15px rgba(249, 115, 22, 0.4);
    }

    /* Loading Spinner */
    .spinner-orange { border: 3px solid rgba(255, 255, 255, 0.1); border-top: 3px solid #FF5E00; } /* Orange for Prime */

    /* Modal Overlay */
    .modal-overlay { 
        background: rgba(0, 0, 0, 0.85); 
        backdrop-filter: blur(5px);
        position: fixed !important;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        z-index: 1000;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    /* Inputs */
    input, select, textarea {
        background-color: #1e293b !important;
        border-color: #334155 !important;
        color: white !important;
        border-radius: 0.5rem !important;
    }
    input:focus, select:focus {
        border-color: #FF5E00 !important;
        ring: 2px solid rgba(255, 94, 0, 0.5) !important;
    }

    /* Date Picker Icon High Contrast */
    ::-webkit-calendar-picker-indicator {
        filter: invert(1);
        opacity: 0.8;
        cursor: pointer;
        transition: all 0.2s ease;
    }
    ::-webkit-calendar-picker-indicator:hover {
        opacity: 1;
        transform: scale(1.1);
    }

    /* Mobile Menu */
    #mobile-menu {
        transition: max-height 0.3s ease-in-out, opacity 0.3s ease-in-out;
        max-height: 0;
        opacity: 0;
        overflow: hidden;
    }
    #mobile-menu.open {
        max-height: 500px;
        opacity: 1;
    }

    /* SKELETON SCREENS */
    .skeleton {
        background: linear-gradient(90deg, #1e293b 25%, #334155 50%, #1e293b 75%);
        background-size: 200% 100%;
        animation: shimmer 1.5s infinite;
        border-radius: 4px;
    }

    @keyframes shimmer {
        0% { background-position: 200% 0; }
        100% { background-position: -200% 0; }
    }

    /* Sticky Filters (Now relative by default, toggled to fixed) */
    .sticky-filters {
        position: relative; /* Changed from sticky */
        top: 0;
        z-index: 30;
        background: rgba(15, 23, 42, 0.95);
        backdrop-filter: blur(8px);
        border-bottom: 1px solid var(--border-color);
        margin-top: -1rem;
        margin-left: -1.5rem;
        margin-right: -1.5rem;
        padding: 1.5rem;
        border-radius: 0 0 1rem 1rem;
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.2);
        transition: all 0.3s ease;
    }

    /* Floating Button Style */
    #floating-filters-toggle {
        position: fixed;
        top: 5rem;
        left: 1rem;
        z-index: 50;
        background-color: rgba(15, 23, 42, 0.9);
        backdrop-filter: blur(5px);
        border: 1px solid var(--border-color);
        color: #fff;
        font-size: 0.875rem; /* text-sm */
        font-weight: 600;
        padding: 0.5rem 1rem;
        border-radius: 9999px; /* rounded-full */
        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        display: flex;
        align-items: center;
        gap: 0.5rem;
        cursor: pointer;
        transition: all 0.2s ease;
    }
    #floating-filters-toggle:hover {
        background-color: #1e293b;
        transform: scale(1.05);
    }

    #floating-filters-toggle.hidden {
        display: none !important;
    }

    /* Overlay Mode for Filters */
    .filters-overlay-mode {
        position: fixed !important;
        top: 5rem !important; /* Below navbar */
        left: 50% !important;
        transform: translateX(-50%) !important;
        width: 95% !important;
        max-width: 1280px !important;
        z-index: 45 !important;
        margin: 0 !important;
        border-radius: 1rem !important;
        box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5) !important;
        max-height: 80vh !important;
        overflow-y: auto !important;
        border: 1px solid var(--border-color) !important;
        background: rgba(15, 23, 42, 0.98) !important;
    }

    /* Hide the sentinel wrapper (it should just take space) */
    .filter-wrapper-sentinel {
        display: block;
        min-height: 1px; /* Ensure it has height to be observed */
    }

    @media (max-width: 1024px) {
        .sticky-filters {
            position: relative;
            top: 0;
            margin: 0 0 1.5rem 0;
            border-radius: 1rem;
        }
        #floating-filters-toggle {
             top: 4.5rem; /* Adjust for mobile header */
        }
    }

    /* Mobile Tables */
    @media (max-width: 768px) {
        table, thead, tbody, th, td, tr {
            display: block;
        }
        thead {
            display: none; /* Hide headers */
        }
        tr {
            margin-bottom: 1rem;
            border: 1px solid var(--border-color);
            border-radius: 0.5rem;
            background-color: var(--bg-card);
            overflow: hidden;
        }
        td {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.75rem 1rem;
            border-bottom: 1px solid rgba(255,255,255,0.05);
            text-align: right;
            min-height: 3rem; /* Ensure height for empty cells */
        }
        td:last-child {
            border-bottom: none;
        }
        td::before {
            content: attr(data-label);
            font-weight: 700;
            text-transform: uppercase;
            font-size: 0.75rem;
            color: #94a3b8; /* slate-400 */
            margin-right: 1rem;
            text-align: left;
            flex: 1; /* Allow label to take space */
        }
        /* Exceptions for specific cells if needed */
        td .badge, td .status-indicator {
            margin-left: auto;
        }
    }

    /* Performance & Accessibility */
    @media (max-width: 768px), (prefers-reduced-motion: reduce) {
        .glass-nav, .modal-overlay, .gatekeeper-card, .sticky-filters {
            backdrop-filter: none !important;
            -webkit-backdrop-filter: none !important;
            background-color: rgba(15, 23, 42, 0.98) !important;
        }
    }

/* Dynamic Button Styling for Fornecedor Toggles */
.fornecedor-btn {
    transition-property: all;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
    transition-duration: 300ms;
}

.fornecedor-btn.active {
    background-color: #FF5E00 !important; /* bg-brand-orange */
    color: #ffffff !important; /* text-white */
    font-weight: 700 !important; /* font-bold */
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05); /* shadow-lg */
}

.fornecedor-btn:not(.active) {
    background-color: transparent;
    color: #94a3b8; /* text-slate-400 */
    font-weight: 500; /* font-medium */
}

.fornecedor-btn:not(.active):hover {
    color: #ffffff; /* hover:text-white */
    background-color: rgba(51, 65, 85, 0.5); /* hover:bg-slate-700/50 */
}

/* Specific Override for Comparison Container Inactive State */
#comparison-fornecedor-toggle-container .fornecedor-btn:not(.active) {
    background-color: #1e293b; /* bg-slate-800 */
}
#comparison-fornecedor-toggle-container .fornecedor-btn:not(.active):hover {
    background-color: #334155; /* hover:bg-slate-700 approx */
}

/* Dynamic Button Styling for Group Toggles (Rede) */
.group-btn {
    transition: all 0.2s ease;
}
.group-btn.active {
    background-color: #FF5E00 !important; /* bg-brand-orange */
    color: #ffffff !important; /* text-white */
}
.group-btn:not(.active) {
    background-color: transparent;
    color: #94a3b8; /* text-slate-400 */
}
.group-btn:not(.active):hover {
    color: #ffffff; /* hover:text-white */
    background-color: rgba(51, 65, 85, 0.5); /* hover:bg-slate-700/50 */
}


/* Liquid Gauge Cylinder Animations */
@keyframes wave {
  0% { transform: translateX(0) translateZ(0) scaleY(1); }
  50% { transform: translateX(25%) translateZ(0) scaleY(0.9); }
  100% { transform: translateX(50%) translateZ(0) scaleY(1); }
}

.animate-wave {
  animation: wave 4s ease-in-out infinite alternate;
}

.animate-wave-slow {
  animation: wave 6s ease-in-out infinite alternate-reverse;
}

    /* --- GOALS VIEW LIGHT MODE FIXES --- */

    /* 1. Ensure Header is Orange */
    html.light header.bg-gradient-to-r {
        background: #FF9933 !important;
    }

    /* 2. Fix Text Contrast in Goals View (General) */
    html.light .text-green-300 { color: #15803d !important; } /* green-700 */
    html.light .text-teal-400 { color: #0f766e !important; } /* teal-700 */
    html.light .text-orange-400 { color: #c2410c !important; } /* orange-700 */
    html.light .text-purple-400 { color: #7e22ce !important; } /* purple-700 */
    html.light .text-yellow-300 { color: #b45309 !important; } /* amber-700 */
    html.light .text-yellow-400 { color: #b45309 !important; } /* amber-700 */
    html.light .text-blue-300 { color: #1d4ed8 !important; } /* blue-700 */
    html.light .text-emerald-300 { color: #047857 !important; } /* emerald-700 */
    html.light .text-pink-400 { color: #be185d !important; } /* pink-700 */
    html.light .text-cyan-400 { color: #0e7490 !important; } /* cyan-700 */

    /* 3. Specific Bold & Darker Colors for SV Report Table in Light Mode */
    html.light #goals-sv-main-table tbody .text-teal-400,
    html.light #goals-sv-main-table tbody .text-green-400,
    html.light #goals-sv-main-table tbody .text-emerald-300 {
        color: #166534 !important; /* green-800 */
        font-weight: 800 !important;
    }

    html.light #goals-sv-main-table tbody .text-orange-400,
    html.light #goals-sv-main-table tbody .text-red-400 {
        color: #991b1b !important; /* red-800 */
        font-weight: 800 !important;
    }

    html.light #goals-sv-main-table tbody .text-yellow-400,
    html.light #goals-sv-main-table tbody .text-yellow-300 {
        color: #92400e !important; /* amber-800 */
        font-weight: 800 !important;
    }

    html.light #goals-sv-main-table tbody .text-purple-400 {
        color: #6b21a8 !important; /* purple-800 */
        font-weight: 800 !important;
    }

    html.light #goals-sv-main-table tbody .text-pink-400 {
        color: #9d174d !important; /* pink-800 */
        font-weight: 800 !important;
    }

    /* GERAL column (text-white) needs to be bold dark in light mode */
    html.light #goals-sv-main-table tbody .text-white {
        color: #0f172a !important;
        font-weight: 800 !important;
    }

    /* Fix Table Container & Body Backgrounds in Light Mode */
    html.light #goals-sv-table-container {
        background-color: #ffffff !important;
        border-color: #e2e8f0 !important;
    }
    html.light #goals-sv-main-table tbody {
        background-color: #ffffff !important;
    }
    /* Fix standard text colors in table that are hardcoded slate-300/400 */
    html.light #goals-sv-main-table tbody .text-slate-300 {
        color: #334155 !important; /* slate-700 */
    }
    html.light #goals-sv-main-table tbody .text-slate-400 {
        color: #475569 !important; /* slate-600 */
    }

    /* Fix Header & Row Backgrounds in Goals Table (Light Mode) */
    html.light #goals-sv-table-container thead {
        background-color: #f8fafc !important; /* slate-50 */
    }
    html.light #goals-sv-table-container thead tr,
    html.light #goals-sv-table-container thead th {
        background-color: #f1f5f9 !important; /* slate-100 */
        color: #334155 !important; /* slate-700 */
        border-color: #cbd5e1 !important; /* slate-300 */
    }

    /* Supervisor Row (was bg-slate-800) */
    html.light #goals-sv-main-table tbody tr.bg-slate-800 {
        background-color: #e2e8f0 !important; /* slate-200 */
        border-color: #cbd5e1 !important;
    }
    html.light #goals-sv-main-table tbody tr.bg-slate-800 td {
        color: #1e293b !important; /* slate-800 */
        background-color: #e2e8f0 !important; /* Ensure cells get the light background */
    }

    /* Fix Specific Input Cells with Dark Backgrounds in Light Mode */
    html.light #goals-sv-main-table tbody td.bg-\[\#1e293b\],
    html.light #goals-sv-main-table tbody td.bg-\[\#151c36\] {
        background-color: #f8fafc !important; /* slate-50 - Lighter */
        color: #1e293b !important;
        border-color: #cbd5e1 !important;
    }

    /* Force cells to adopt row hover color in Light Mode (Fix Broken Lines) */
    html.light #goals-sv-main-table tbody tr:hover td.bg-\[\#1e293b\],
    html.light #goals-sv-main-table tbody tr:hover td.bg-\[\#151c36\] {
        background-color: transparent !important; /* Let the orange row color show through */
        color: #ffffff !important;
    }

    /* Ensure Inputs inside these cells are visible and readable when disabled */
    html.light #goals-sv-main-table tbody td.bg-\[\#1e293b\] input,
    html.light #goals-sv-main-table tbody td.bg-\[\#151c36\] input {
        color: #1e293b !important; /* slate-800 */
        font-weight: 700 !important;
        background-color: transparent !important;
        opacity: 1 !important; /* Force opacity for disabled inputs */
        -webkit-text-fill-color: #1e293b !important; /* Force text color for Webkit/Chrome */
    }

    /* Ensure Inputs turn white on hover */
    html.light #goals-sv-main-table tbody tr:hover td.bg-\[\#1e293b\] input,
    html.light #goals-sv-main-table tbody tr:hover td.bg-\[\#151c36\] input {
         color: #ffffff !important;
         -webkit-text-fill-color: #ffffff !important;
    }

    /* Fix Adjustment Column Text Color & Background in Light Mode */
    html.light #goals-sv-main-table tbody .text-yellow-500\/70 {
        color: #b45309 !important; /* amber-700 - Darker for contrast */
        background-color: #f8fafc !important; /* Ensure background is light */
    }
    html.light #goals-sv-main-table tbody tr:hover .text-yellow-500\/70 {
        background-color: transparent !important;
        color: #ffffff !important;
    }
    /* Grand Total Row (was bg-[#0f172a]) */
    html.light #goals-sv-main-table tbody tr.bg-\[\#0f172a\] {
        background-color: #cbd5e1 !important; /* slate-300 */
        color: #0f172a !important; /* dark text */
    }

    /* Cell specific backgrounds (bg-blue-900/5 etc) */
    html.light #goals-sv-main-table tbody .bg-blue-900\/5 {
        background-color: #f8fafc !important; /* very light slate */
    }
    html.light #goals-sv-main-table tbody .bg-blue-900\/10 {
        background-color: #f1f5f9 !important; /* light slate */
    }

    /* Header specific backgrounds (bg-slate-800/50 etc) */
    html.light #goals-sv-table-container .bg-slate-800\/50 {
        background-color: #e2e8f0 !important; /* slate-200 */
    }

    /* 4. Fix Tab Buttons (Rateio Metas / Relat√≥rio) */
    html.light #goals-tabs {
        background-color: #e2e8f0 !important;
        border-color: #cbd5e1 !important;
    }
    html.light #goals-tabs button.text-slate-400 {
        color: #64748b !important;
    }
    html.light #goals-tabs button.active {
        background-color: #ffffff !important;
        border-color: #0f766e !important; /* teal-700 */
        color: #0f766e !important;
        box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
        font-weight: 800 !important;
    }

    /* 5. Fix Inactive Tab Buttons (Dark Slate) in other places if needed */
    html.light .bg-\[\#334155\] {
        background-color: #e2e8f0 !important;
        color: #475569 !important;
        border-color: #cbd5e1 !important;
    }

    /* 3. Fix Inactive Tab Buttons (Dark Slate) */
    html.light .bg-\[\#334155\] {
        background-color: #e2e8f0 !important;
        color: #475569 !important;
        border-color: #cbd5e1 !important;
    }

    /* 4. Fix Inputs inside Goal Cards */
    /* Target inputs that use the dark bg-[#0f172a] specifically */
    html.light input.bg-\[\#0f172a\] {
        background-color: #ffffff !important;
        color: #0f172a !important;
        border-color: #cbd5e1 !important;
    }

    /* 5. Fix Borders for Goal Cards (Input containers) */
    html.light .border-green-900\/50 { border-color: #86efac !important; } /* green-300 */
    html.light .border-blue-900\/50 { border-color: #93c5fd !important; } /* blue-300 */
    html.light .border-purple-900\/50 { border-color: #d8b4fe !important; } /* purple-300 */
    html.light .border-emerald-900\/50 { border-color: #6ee7b7 !important; } /* emerald-300 */
    html.light .border-yellow-900\/50 { border-color: #fde047 !important; } /* yellow-300 */
    html.light .border-teal-500\/50 { border-color: #0d9488 !important; } /* teal-600 */

    /* 6. Fix "Rateio Metas" Tab Active State if needed */
    html.light .border-teal-500.text-teal-500.active {
        background-color: #ccfbf1 !important; /* teal-50 */
        border-color: #0d9488 !important;
        color: #0f766e !important;
    }

/* AI Insights Styles */
.ai-strategy-card {
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    background-image: linear-gradient(to bottom right, rgba(79, 70, 229, 0.2), rgba(67, 56, 202, 0.1));
}

.ai-supervisor-card {
    transition: transform 0.2s, box-shadow 0.2s;
}

.ai-supervisor-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
}

/* Light Mode Overrides for AI Insights */
html.light .ai-strategy-card {
    background-image: linear-gradient(to bottom right, #e0e7ff, #eef2ff);
    border-color: #c7d2fe;
}
html.light .ai-strategy-card h3,
html.light .ai-strategy-card p {
    color: #1e1b4b !important;
}

html.light .ai-supervisor-card {
    background-color: #ffffff !important;
    border-color: #e5e7eb !important;
}
html.light .ai-supervisor-card h4 {
    color: #0f766e !important; /* teal-700 */
}
html.light .ai-supervisor-card p {
    color: #374151 !important; /* gray-700 */
}
html.light .ai-supervisor-card .text-xs {
    color: #4b5563 !important; /* gray-600 */
}

/* Badges in Light Mode */
html.light .bg-red-900\/50,
html.light .bg-red-900\/30 {
    background-color: #fee2e2 !important; /* red-100 */
    border-color: #fca5a5 !important;
    color: #991b1b !important; /* red-800 */
}

html.light .bg-green-900\/30 {
    background-color: #dcfce7 !important; /* green-100 */
    border-color: #86efac !important;
    color: #166534 !important; /* green-800 */
}

/* Login Logo Styling */
.login-logo-img {
    border-radius: 1rem; /* Rounded corners for the solid background logo */
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.3);
    transition: transform 0.3s ease;
}
.login-logo-img:hover {
    transform: scale(1.05);
}

/* Toast Notification Styles */
#toast-container {
    position: fixed;
    top: 1rem;
    right: 1rem;
    z-index: 9999;
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    width: 24rem; /* w-96 */
    pointer-events: none; /* Allows clicks through the container */
}

/* Base Toast Style (Professional Dark Theme) */
.toast {
    position: relative;
    pointer-events: auto; /* Re-enable clicks on the toast */
    display: flex;
    align-items: flex-start;
    gap: 0.75rem;
    padding: 1rem;
    background: rgba(15, 23, 42, 0.95); /* Slate-900 with transparency */
    backdrop-filter: blur(8px);
    border: 1px solid rgba(51, 65, 85, 0.5); /* Slate-700/50 */
    border-radius: 0.75rem; /* rounded-xl */
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.3), 0 4px 6px -2px rgba(0, 0, 0, 0.1);
    color: #cbd5e1; /* Slate-300 */
    overflow: hidden;
    /* Animation */
    animation: toastSlideIn 0.3s cubic-bezier(0.16, 1, 0.3, 1);
    transform: translateX(0);
}

@keyframes toastSlideIn {
    from {
        opacity: 0;
        transform: translateX(100%);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

.toast.hiding {
    animation: toastFadeOut 0.3s cubic-bezier(0.7, 0, 0.84, 0) forwards;
}

@keyframes toastFadeOut {
    to {
        opacity: 0;
        transform: translateX(100%);
    }
}

/* Toast Variants */
.toast.toast-success { border-left: 4px solid #10b981; /* Green-500 */ }
.toast.toast-error { border-left: 4px solid #ef4444; /* Red-500 */ }
.toast.toast-info { border-left: 4px solid #3b82f6; /* Blue-500 */ }
.toast.toast-warning { border-left: 4px solid #f59e0b; /* Amber-500 */ }

/* Toast Content Typography */
.toast-title {
    font-size: 0.875rem; /* text-sm */
    font-weight: 700;
    color: #f1f5f9; /* Slate-100 */
    margin-bottom: 0.125rem;
}

.toast-message {
    font-size: 0.75rem; /* text-xs */
    color: #94a3b8; /* Slate-400 */
    line-height: 1.4;
}

/* Close Button */
.toast-close-btn {
    margin-left: auto;
    color: #64748b; /* Slate-500 */
    padding: 0.25rem;
    border-radius: 0.375rem;
    cursor: pointer;
    transition: all 0.2s;
}

.toast-close-btn:hover {
    color: #f1f5f9;
    background: rgba(255, 255, 255, 0.1);
}

/* Progress Bar (Auto Dismiss) */
.toast-progress {
    position: absolute;
    bottom: 0;
    left: 0;
    height: 3px;
    background: rgba(255, 255, 255, 0.2);
    width: 100%;
    transform-origin: left;
}

@keyframes shrinkWidth {
    from { transform: scaleX(1); }
    to { transform: scaleX(0); }
}

/* Variant Specific Icon Colors */
.toast-icon { margin-top: 0.125rem; }
.toast-success .toast-icon { color: #10b981; }
.toast-error .toast-icon { color: #ef4444; }
.toast-info .toast-icon { color: #3b82f6; }
.toast-warning .toast-icon { color: #f59e0b; }

/* Vertical Wave Animation for Horizontal Liquid Gauge */
@keyframes wave-vertical {
  0% { transform: translateY(0) translateZ(0) scaleX(1); }
  50% { transform: translateY(25%) translateZ(0) scaleX(0.9); }
  100% { transform: translateY(50%) translateZ(0) scaleX(1); }
}

.animate-wave-vertical {
  animation: wave-vertical 4s ease-in-out infinite alternate;
}

/* --- Banner 3D Styles (Migrated) --- */
#banner-container {
    position: relative;
    width: 100%; /* Adjusted for dashboard */
    /* max-width: 1100px; - Let parent control width */
    height: 280px;
    border-radius: 28px;
    overflow: hidden;
    box-shadow: 0 30px 60px -12px rgba(0, 0, 0, 0.8);
    background: radial-gradient(circle at 75% 50%, #1e1b4b 0%, #020617 100%);
    border: 1px solid rgba(255, 255, 255, 0.08);
    margin-bottom: 2rem; /* Replace mb-8 utility */
}

#banner-container canvas {
    display: block;
    width: 100%;
    height: 100%;
    position: absolute;
    top: 0;
    left: 0;
    z-index: 1;
}

.content-overlay {
    position: relative;
    z-index: 10;
    height: 100%;
    display: flex;
    flex-direction: column;
    justify-content: center;
    padding-left: 60px; 
    background: linear-gradient(90deg, rgba(2,6,23,0.95) 0%, rgba(2,6,23,0.4) 60%, rgba(2,6,23,0) 100%);
    pointer-events: none; 
    max-width: 550px;
}

@media (max-width: 640px) {
    .content-overlay { padding-left: 20px; }
    .user-greeting { font-size: 1.5rem !important; }
    .sub-text { font-size: 0.8rem !important; }
    .brand-tag {
        font-size: 0.5rem !important;
        padding: 2px 8px !important;
        margin-bottom: 6px !important;
        white-space: nowrap !important;
    }
    .meta-info {
        margin-top: 15px;
        font-size: 0.7rem;
    }
    #banner-container { height: 140px; } /* 40% reduction approx from 220px to 140px based on user request */
}

.brand-tag {
    background: linear-gradient(90deg, #ff6600, #ff9900);
    color: white;
    padding: 5px 16px;
    border-radius: 99px;
    font-weight: 800;
    font-size: 0.75rem;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    width: fit-content;
    margin-bottom: 16px;
    box-shadow: 0 4px 15px rgba(255, 102, 0, 0.3);
}

.user-greeting {
    font-size: 3.8rem;
    font-weight: 800;
    color: white;
    line-height: 1;
    font-style: italic;
    text-shadow: 0 10px 20px rgba(0,0,0,0.5);
}

.sub-text {
    font-size: 1.3rem;
    color: #fbbf24;
    font-weight: 600;
    margin-top: 10px;
}

.meta-info {
    font-size: 0.85rem;
    color: #94a3b8;
    margin-top: 30px;
    display: flex;
    align-items: center;
    gap: 10px;
    font-family: monospace;
}

.dot {
    width: 10px;
    height: 10px;
    background-color: #22c55e;
    border-radius: 50%;
    box-shadow: 0 0 12px #22c55e;
}

/* Tooltip Styles */
.tooltip {
    position: relative;
    display: inline-block;
    cursor: pointer;
}

.tooltip .tooltip-text {
    visibility: hidden;
    width: 120px;
    background-color: rgba(15, 23, 42, 0.95); /* Matches other dark theme elements */
    color: #fff;
    text-align: center;
    padding: 5px 8px;
    border-radius: 6px;
    position: absolute;
    z-index: 50; /* High z-index to stay on top */
    bottom: 125%; /* Position above */
    left: 50%;
    margin-left: -60px; /* Center the tooltip */
    opacity: 0;
    transition: opacity 0.3s;
    border: 1px solid rgba(255, 255, 255, 0.1);
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    font-weight: normal;
    font-size: 0.75rem;
    pointer-events: none;
}

.tooltip:hover .tooltip-text {
    visibility: visible;
    opacity: 1;
}

/* --- Floating Action Button (FAB) Styles --- */
.fab-container {
    position: fixed;
    bottom: 15px;
    right: 15px;
    z-index: 900; /* High enough but below modals */
    display: flex;
    flex-direction: column;
    align-items: flex-end; /* Align items to the right */
    gap: 1rem;
}

.fab-btn {
    width: 3rem;
    height: 3rem;
    background-color: #f97316; /* Orange-500 */
    border-radius: 9999px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.3), 0 4px 6px -2px rgba(0, 0, 0, 0.1);
    cursor: pointer;
    transition: transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1), background-color 0.2s, opacity 0.2s;
    border: none;
    outline: none;
    position: relative;
    overflow: hidden;
    opacity: 0.7;
}

.fab-btn:hover {
    background-color: #ea580c; /* Orange-600 */
    transform: scale(1.1);
    opacity: 1;
}

.fab-btn:active {
    transform: scale(0.95);
}

.fab-btn svg {
    width: 1.5rem;
    height: 1.5rem;
    fill: currentColor;
    transition: transform 0.3s;
}

/* Micro-animation: Spin/Pulse on active */
.fab-container.active .fab-btn svg {
    transform: rotate(360deg);
}

.fab-menu {
    display: flex;
    flex-direction: column-reverse; /* List expands upwards */
    gap: 0.75rem;
    opacity: 0;
    pointer-events: none;
    transform: translateY(20px) scale(0.8);
    transform-origin: bottom right;
    transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
}

.fab-container.active .fab-menu {
    opacity: 1;
    pointer-events: auto;
    transform: translateY(0) scale(1);
}

.fab-item {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    background-color: #f8fafc; /* Slate-50 */
    color: #0f172a; /* Slate-900 */
    padding: 0.6rem 1.2rem;
    border-radius: 0.5rem;
    font-weight: 700;
    font-size: 0.875rem;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.2);
    cursor: pointer;
    transition: transform 0.2s, background-color 0.2s;
    white-space: nowrap;
    border: 1px solid #cbd5e1;
}

.fab-item:hover {
    background-color: #e2e8f0; /* Slate-200 */
    transform: translateX(-5px);
}

.fab-item span {
    font-size: 0.75rem;
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

/* Icons for Menu Items */
.fab-icon-excel { color: #166534; /* Green-800 */ }
.fab-icon-pdf { color: #991b1b; /* Red-800 */ }

/* Mobile adjustments */
@media (max-width: 640px) {
    .fab-container {
        bottom: 2px; /* Reduced margin */
        right: 2px;
    }
}

/* --- GLASSMORPHISM SYSTEM --- */
.glass-panel {
    background-color: rgba(10, 10, 10, 0.6) !important;
    backdrop-filter: blur(12px) !important;
    -webkit-backdrop-filter: blur(12px) !important;
    border: 1px solid rgba(255, 255, 255, 0.08) !important;
    box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37) !important;
    color: #f1f5f9 !important; /* Lighter text base */
}

.glass-panel-heavy {
    background-color: rgba(15, 23, 42, 0.85) !important; /* Darker/More Opaque for Contrast */
    backdrop-filter: blur(16px) !important;
    -webkit-backdrop-filter: blur(16px) !important;
    border: 1px solid rgba(255, 255, 255, 0.1) !important;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3) !important;
}

/* Override Text Colors inside Glass Panels for Readability */
.glass-panel .text-slate-400, 
.glass-panel-heavy .text-slate-400 {
    color: #cbd5e1 !important; /* Lighter Slate-300 equivalent */
}

.glass-panel .text-slate-500, 
.glass-panel-heavy .text-slate-500 {
    color: #94a3b8 !important; /* Lighter Slate-400 equivalent */
}

.glass-panel h1, .glass-panel h2, .glass-panel h3,
.glass-panel-heavy h1, .glass-panel-heavy h2, .glass-panel-heavy h3 {
    color: #ffffff !important;
    text-shadow: 0 2px 4px rgba(0,0,0,0.5);
}


/* --- KPI CARD GLASS OVERRIDES --- */
.kpi-card {
    background-color: rgba(23, 23, 23, 0.4) !important; /* Slightly more transparent than full panels */
    backdrop-filter: blur(12px) !important;
    -webkit-backdrop-filter: blur(12px) !important;
    border: 1px solid rgba(255, 255, 255, 0.1) !important;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.2), 0 2px 4px -1px rgba(0, 0, 0, 0.1) !important;
    transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1), box-shadow 0.3s ease;
}

.kpi-card:hover {
    background-color: rgba(23, 23, 23, 0.6) !important; /* Darken slightly on hover */
    transform: translateY(-5px);
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.3), 0 10px 10px -5px rgba(0, 0, 0, 0.2) !important;
}

/* Redefine KPI Glow Variants for Glass */
.kpi-glow-blue {
    /* Transparent center with blue tinted edges via border/shadow */
    background-image: none !important; 
    border-color: rgba(59, 130, 246, 0.3) !important;
    box-shadow: 0 0 20px rgba(59, 130, 246, 0.15), inset 0 0 20px rgba(59, 130, 246, 0.05) !important;
}

.kpi-glow-green {
    background-image: none !important;
    border-color: rgba(34, 197, 94, 0.3) !important;
    box-shadow: 0 0 20px rgba(34, 197, 94, 0.15), inset 0 0 20px rgba(34, 197, 94, 0.05) !important;
}

.kpi-glow-yellow {
    background-image: none !important;
    border-color: rgba(234, 179, 8, 0.3) !important;
    box-shadow: 0 0 20px rgba(234, 179, 8, 0.15), inset 0 0 20px rgba(234, 179, 8, 0.05) !important;
}

.kpi-glow-purple {
    background-image: none !important;
    border-color: rgba(168, 85, 247, 0.3) !important;
    box-shadow: 0 0 20px rgba(168, 85, 247, 0.15), inset 0 0 20px rgba(168, 85, 247, 0.05) !important;
}

.kpi-glow-orange {
    background-image: none !important;
    border-color: rgba(249, 115, 22, 0.3) !important;
    box-shadow: 0 0 20px rgba(249, 115, 22, 0.15), inset 0 0 20px rgba(249, 115, 22, 0.05) !important;
}


/* --- FILTER GLASS CONTAINER STYLES --- */
.glass-filter-box {
    background-color: rgba(30, 41, 59, 0.5) !important; /* Slightly bluish/slate tint */
    backdrop-filter: blur(16px) !important;
    -webkit-backdrop-filter: blur(16px) !important;
    border: 1px solid rgba(255, 255, 255, 0.12) !important;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3) !important;
    border-radius: 1rem !important;
    padding: 1.5rem !important;
    margin-bottom: 2rem !important;
}

/* Ensure inputs inside filter box have contrast */
.glass-filter-box label {
    color: #e2e8f0 !important; /* Lighter text for labels */
    text-shadow: 0 1px 2px rgba(0,0,0,0.8);
}

.glass-filter-box input, 
.glass-filter-box select, 
.glass-filter-box button:not(.bg-slate-700):not(.bg-\[\#FF5E00\]):not(.group-btn) {
    background-color: rgba(15, 23, 42, 0.7) !important; /* Darker background for inputs */
    border: 1px solid rgba(255, 255, 255, 0.15) !important;
    color: #ffffff !important;
}

.glass-filter-box input:focus, 
.glass-filter-box select:focus {
    background-color: rgba(15, 23, 42, 0.9) !important;
    border-color: #FF5E00 !important;
    box-shadow: 0 0 0 2px rgba(255, 94, 0, 0.3) !important;
}


/* --- GLASS TABLE OVERRIDES --- */
.glass-panel table thead th {
    background-color: rgba(30, 41, 59, 0.5) !important; /* Slightly distinct header for tables */
    color: #f1f5f9 !important; /* White text for headers */
    text-shadow: 0 1px 1px rgba(0,0,0,0.8);
    border-bottom: 1px solid rgba(255, 255, 255, 0.1) !important;
}

.glass-panel table tbody tr:nth-child(even) {
    background-color: rgba(255, 255, 255, 0.02) !important; /* Subtle striping */
}

.glass-panel table tbody tr:hover {
    background-color: rgba(255, 255, 255, 0.05) !important; /* Hover effect */
}

.glass-panel table td {
    color: #e2e8f0 !important; /* Light text for data */
    border-bottom: 1px solid rgba(255, 255, 255, 0.05) !important;
}

/* Specific text color adjustments for low contrast elements */
.glass-panel .text-slate-300 { color: #e2e8f0 !important; }
.glass-panel .text-slate-400 { color: #cbd5e1 !important; }
.glass-panel .text-slate-500 { color: #94a3b8 !important; }
.glass-panel .text-gray-400 { color: #cbd5e1 !important; }
.glass-panel .text-gray-500 { color: #94a3b8 !important; }



/* Update Modal Content to be Glass */
.bg-modal-content {
    background-color: rgba(15, 23, 42, 0.8) !important; /* Semi-transparent slate */
    backdrop-filter: blur(16px) !important;
    border: 1px solid rgba(255, 255, 255, 0.1) !important;
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.4), 0 10px 10px -5px rgba(0, 0, 0, 0.3) !important;
}


/* --- GLASSMORPHISM TYPOGRAPHY FINAL CLEANUP --- */
/* Ensure headings inside glass panels are bright white */
.glass-panel h1, .glass-panel h2, .glass-panel h3, .glass-panel h4, .glass-panel h5, .glass-panel h6 {
    color: #ffffff !important;
}

/* Ensure strong text is also white */
.glass-panel strong, .glass-panel b {
    color: #f8fafc !important;
}

/* Specific fix for inputs that might still be dark text on dark bg */
.glass-panel input::placeholder {
    color: #94a3b8 !important; /* Lighter placeholder */
}


/* --- GLASS UTILITIES --- */
/* Lightweight glass for list items/rows (no border/shadow) */
.bg-glass {
    background-color: rgba(255, 255, 255, 0.03) !important;
    backdrop-filter: blur(4px);
    -webkit-backdrop-filter: blur(4px);
    transition: background-color 0.2s ease;
}

.bg-glass:hover, .hover\:bg-glass:hover {
    background-color: rgba(255, 255, 255, 0.08) !important;
}

/* Glass Inputs Specific Override */
.glass-input {
    background-color: rgba(15, 23, 42, 0.6) !important;
    border: 1px solid rgba(255, 255, 255, 0.1) !important;
    backdrop-filter: blur(4px);
}
.glass-input:focus {
    border-color: #FF5E00 !important;
    background-color: rgba(15, 23, 42, 0.8) !important;
}

/* Glass Table Row Alternate */
.glass-table-row-even {
    background-color: rgba(255, 255, 255, 0.02);
}

/* Glass Border Utility */
.border-glass {
    border-color: rgba(255, 255, 255, 0.1) !important;
}

/* Text on Glass */
.text-glass-secondary {
    color: rgba(255, 255, 255, 0.6) !important;
}
